!function e(n,t,r){function o(c,u){if(!t[c]){if(!n[c]){var i="function"==typeof require&&require;if(!u&&i)return i(c,!0);if(a)return a(c,!0);var s=new Error("Cannot find module '"+c+"'");throw s.code="MODULE_NOT_FOUND",s}var l=t[c]={exports:{}};n[c][0].call(l.exports,function(e){var t=n[c][1][e];return o(t?t:e)},l,l.exports,e,n,t,r)}return t[c].exports}for(var a="function"==typeof require&&require,c=0;c<r.length;c++)o(r[c]);return o}({1:[function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=e("./error-tracker"),a=r(o),c=new a["default"];c.watch(function(){function e(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}var n=function(e,n){var t=new XMLHttpRequest;t.open("GET",e,!0),t.onload=function(){if(200==this.status)try{var e=JSON.parse(t.responseText),r=e.meme.meme;n({slug:r.slug,appImageUrl:r.thumbor_app_image.replace(/\\/g,""),url:r.link,callToAction:r.call_to_action})}catch(o){console.log("Error: Cannot find valid JSON response to parse")}},t.send(null)},t=function(e){e=e||function(){},n("https://www.curiosity.com/ajax/random_meme/",function(n){chrome.storage.local.get("memeCache",function(t){var r=t.memeCache||[];10===r.length&&r.pop(),r.unshift(n),chrome.storage.local.set({memeCache:r},function(){e()})})})};chrome.runtime.onInstalled.addListener(function(){t(function(){chrome.storage.local.get("onboarded",function(e){e.onboarded||(chrome.tabs.create({url:"chrome://newtab?onboard=true"}),chrome.storage.local.set({onboarded:!0}))})}),chrome.storage.local.set({uuid:e()})}),chrome.extension.onMessage.addListener(function(e,n,r){switch(e.cmd){case"random_meme":e.slug?chrome.storage.local.get("memeCache",function(n){var t=n.memeCache||[],o=t.filter(function(n){return n.slug==e.slug});r(o[0])}):chrome.storage.local.get("memeCache",function(e){t(function(){}),r(e.memeCache[0])});break;case"uuid":chrome.storage.local.get("uuid",function(e){r(e.uuid)})}return!0})})},{"./error-tracker":2}],2:[function(e,n,t){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),a=function(){function e(){r(this,e),Raven.config("https://48b48d0d72ff4a1fa3e4cd35091a6d93@app.getsentry.com/56624").install(),Raven.setUserContext({extensionVersion:chrome.app.getDetails().version})}return o(e,[{key:"watch",value:function(e){try{e()}catch(n){Raven.captureException(n)}}}]),e}();n.exports=a},{}]},{},[1]);