Registry.registerRaw("page.js","69",{inject:function(a){var u=document.createElement("script");u.textContent=a;(document.head||document.body||document.documentElement||document).appendChild(u);u.parentNode.removeChild(u)},backup:function(a,u,g,F){var e={safeWindow:{},safeDocument:{},eval:eval,Context:{D:F},exec:function(a,c){h(new e.safeWindow.Function(a),c)}},h,c,A,D;(function(){var b=function(a){var b=function(b){return h(a,b,h(c.wrappedJSObject,arguments,[1]))};b.wrappedJSObject=
a;return b},G={F_a:h=function(){var b=a.Function.apply;return function(a,c,e){a.apply===b?c=a.apply(c,e):(a[g]=b,c=a[g](c,e),delete a[g]);return c}}(),F_c:b(a.Function.call),F_b:b(a.Function.bind),F_tS:b(a.Function.toString),A_fE:b(a.Array.prototype.forEach),A_sl:c=b(a.Array.prototype.slice),A_sp:b(a.Array.prototype.splice),A_sh:b(a.Array.prototype.shift),A_j:b(a.Array.prototype.join),A_pu:b(a.Array.prototype.push),A_po:b(a.Array.prototype.pop),A_m:b(a.Array.prototype.map),A_c:b(a.Array.prototype.concat),
A_f:b(a.Array.prototype.filter),A_iO:b(a.Array.prototype.indexOf),O_k:a.Object.keys,O_dP:a.Object.defineProperties,O_gOPN:a.Object.getOwnPropertyNames,O_gOPD:a.Object.getOwnPropertyDescriptor,O_dG:b(a.Object.prototype.__defineGetter__),O_dS:b(a.Object.prototype.__defineSetter__),O_tS:b(a.Object.prototype.toString),J_p:D=a.JSON.parse,J_s:A=a.JSON.stringify,c_l:a.console.log.bind(a.console),c_i:a.console.info.bind(a.console),c_w:a.console.warn.bind(a.console),c_e:a.console.error.bind(a.console),c_d:a.console.debug.bind(a.console),
M_f:a.Math.floor,M_r:a.Math.random,M_m:a.Math.max,N_tS:b(a.Number.prototype.toString),S_fCC:a.String.fromCharCode,S_m:b(a.String.prototype.match),S_su:b(a.String.prototype.substr),S_sp:b(a.String.prototype.split),S_r:b(a.String.prototype.replace),S_cCA:b(a.String.prototype.charCodeAt),S_tLC:b(a.String.prototype.toLowerCase),S_tUC:b(a.String.prototype.toUpperCase),D_pFS:b(a.DOMParser.prototype.parseFromString),X_o:b(a.XMLHttpRequest.prototype.open),X_sRH:b(a.XMLHttpRequest.prototype.setRequestHeader),
X_oMT:b(a.XMLHttpRequest.prototype.overrideMimeType),X_gARH:b(a.XMLHttpRequest.prototype.getAllResponseHeaders),X_gRH:b(a.XMLHttpRequest.prototype.getResponseHeader),X_s:b(a.XMLHttpRequest.prototype.send),X_a:b(a.XMLHttpRequest.prototype.abort),D_n:a.Date.now};Object.keys(G).forEach(function(a){e.Context[a]=G[a]});"String Array Object Number parseInt JSON Math Date Event MutationEvent console location Error Uint8Array Blob DOMParser XMLHttpRequest Function RegExp frames self top document location".split(" ").forEach(function(c){e.safeWindow[c]=
a[c]});"postMessage addEventListener removeEventListener setTimeout setInterval clearTimeout clearInterval alert prompt confirm encodeURIComponent decodeURIComponent encodeURI decodeURI escape unescape atob btoa close".split(" ").forEach(function(c){var b=a[c];e.safeWindow[c]=function(){return h(b,a,arguments)}});e.createSafeDocument=function(a){["createEvent","createElement","dispatchEvent","addEventListener","removeEventListener"].forEach(function(c){var b=a[c];e.safeDocument[c]=function(){return h(b,
a,arguments)}})};e.createSafeDocument(u)})();try{e.Message=function(a,c){var e=function(){return h(c.dispatchEvent,c,arguments)},g=function(){return h(c.addEventListener,c,arguments)},k=function(){return h(c.removeEventListener,c,arguments)},u=function(a,b){var d=c.createEvent("MutationEvent");d.initMutationEvent(a,!1,!1,null,null,null,A(b),d.ADDITION);return d},E=function(a,c){var b;a&&(b=V[a])&&(b(c),delete V[a])},d,F,S,H,T=1,V={};return{init:function(a){H||(H=a);S="2C_"+H;F="2P_"+H;g(F,function(a){var c=
D(a.attrName);"message.response"==c.m?E(c.r,c.a):d&&d(c,c.r?function(a){a=u(S,{m:"message.response",a:a,r:c.r});e(a)}:function(){})},!1)},send:function(a,c,b){if(b){var d=++T;V[T]=b;b=d}else b=null;a=u(S,{m:a,a:c,r:b});e(a)},onMessage:{addListener:function(a){d=a}},cleanup:function(){k(F,d,!1)}}}(e.safeWindow,e.safeDocument),e.Message.init(g),e.Message.onMessage.addListener(function(a){e&&("load"==a.m?e.Context.pageLoaded=!0:"DOMContentLoaded"==a.m?e.Context.domContentLoaded=!0:"cleanup"==a.m?(e.Message.cleanup(),
e=null):"next"==a.m&&e.exec(a.a,e))})}catch(b){}},next:function(a,u,g,F,e,h,c,A,D,b,G,aa,ba,k,ja){var E="";A&&(E+="var V = true;\n");b&&(E+="var EV = true;\n");D&&(E+="var ENV = true;\n");b="";if(ba||"complete"==document.readyState)b+="Context.pageLoaded |= true;\nContext.domContentLoaded |= true;\n";else if(k||"interactive"==document.readyState)b+="Context.domContentLoaded |= true;\n";return['var backup = this;\n(function TM_back() {var Context = backup.Context;\nvar copy = function(src) {"use strict";var props = Context.O_gOPN(src);for (var kk, ii=0; (kk=props[ii]) !== undefined; ii++) {Context[kk] = src[kk];};};copy(backup);with (Context) {(function() {"use strict";copy({Context: Context,V:',
A?"true":"false",",ENV:",D?"true":"false",",TS:",G?"true":"false",",D:",aa?"true":"false",",use:",h,",windowProps:",F,",scripts:",u,",powers:",g,",_content: false,flags:",e,',write_listeners: []});var cleanup = function(evt) {Message.cleanup();safeWindow.removeEventListener("unload", cleanup, false);};safeWindow.addEventListener("unload", cleanup, false);Context.write_listeners.push(function(d) {Context.createSafeDocument(d);Message.init();});',E+("var logLevel = "+c+";\n")+('var contextId = "'+a+
'";\n')+"var Event = function() {};var Window = function() {};Window.prototype = {};"+b+"("+ja+")(Context, contextId);\n","})();};})()"].join("")},environment:function(a,u){var g=a.V,F=a.EV,e=a.D,h=a.Message,c=a.safeWindow,A=a.safeDocument,D=a.flags,b=a.F_a,G=a.F_c,aa=a.F_b,ba=a.F_tS,k=a.A_fE,ja=a.A_sl,E=a.A_sp,d=a.A_pu,za=a.A_po,S=a.A_sh,H=a.A_j,T=a.A_f,V=a.A_iO,xa=a.A_m,ya=a.A_c,B=a.O_k,W=a.O_dP,Aa=a.O_gOPN,ma=a.O_gOPD,ca=a.O_dG,na=a.O_dS,Ba=a.O_tS,da=a.J_p,ea=a.J_s,r=a.c_l,Ca=a.c_i,O=a.c_w,X=a.c_e,
q=a.c_d,oa=a.M_f,ka=a.M_r,pa=a.M_m,Da=a.S_fCC,fa=a.S_m,qa=a.S_su,ra=a.S_sp,Q=a.S_r,sa=a.S_cCA,Ea=a.S_tLC,Fa=a.S_tUC,Ga=a.D_pFS,Ha=a.X_o,Ia=a.X_sRH,Ja=a.X_oMT,Ka=a.X_gARH,La=a.X_gRH,Ma=a.X_s,Na=a.X_a,Oa=a.N_tS,ga=a.D_n;a.domContentLoaded|=0;a.pageLoaded|=0;a.domNodeInserted|=0;a.props={};var R=function(){var b=[],ta=function(a){if(document.body)a&&(a(),a=null);else{var c=["load","DOMNodeInserted","DOMContentLoaded"],b=function(){k(c,function(a){A.removeEventListener(a,b,!1)});ta(a)};k(c,function(a){A.addEventListener(a,
b,!1)})}},g=function(y){d(b,function(){c.setTimeout(y,1)});a.domContentLoaded&&K.runListeners()},K={runListeners:function(){for(var a;a=S(b);)a()},run:function(c){var x=function(){Pa.create(c)};"document-start"==c.script.options.run_at?(e&&q('env: run "'+c.script.name+'" ASAP -> document-start'),x()):"document-body"==c.script.options.run_at?(e&&q('env: schedule "'+c.script.name+'" for document-body'),ta(x)):"context-menu"==c.script.options.run_at?(e&&q('env: run "'+c.script.name+'" ASAP -> context-menu'),
x()):"document-end"==c.script.options.run_at?(e&&q('env: schedule "'+c.script.name+'" for document-end'),d(b,x),a.domContentLoaded&&K.runListeners()):(e&&q('env: schedule "'+c.script.name+'" for document-idle'),g(x))}};return K}();(g||e)&&q("env: initialized (content, id:"+qa(u,0,10)+"..., "+c.location.origin+c.location.pathname+") ");var Y={createUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var c=16*ka()|0;return Oa("x"==a?c:c&3|8,16)})},toType:function(a){return fa(Ba(a,
{}),new c.RegExp("\\s([a-z|A-Z]+)"))[1]}},U={UTF8:{encode:function(a){return c.unescape(c.encodeURIComponent(a))},decode:function(a){return c.decodeURIComponent(c.escape(a))}},Base64:{encode:function(a){for(var b="",d=0;d<a.length;d++)b+=Da(sa(a,d)&255);return c.btoa(b)},decode:function(a){return c.atob(a)}},str2arrbuf:function(a){for(var b=new c.Uint8Array(a.length),d=0;d<a.length;d++)b[d]=sa(a,d);return b.buffer}},P=function(){var a={},c,b=function(c){var b=[],e=[],J=function(){g=e=b=null;delete a[c]},
g={postMessage:function(a){h.send("port.message",{response_id:c,value:a})},onMessage:{addListener:function(a){d(b,a)}},onDisconnect:{addListener:function(a){d(e,a)}},disconnect:function(){h.send("port.message",{response_id:c,disconnect:!0});J()}};a[c]={message:function(a){b&&k(b,function(c){c(a)})},disconnect:function(a){e&&k(e,function(c){c(a)});J()}};return g};return{message:function(d){var y;d.connect?c&&c(d.destination,b(d.response_id)):(y=a[d.response_id])?d.disconnect?y.disconnect():y.message(d.value):
e&&O("ports: unkown id",d.response_id,d)},connect:function(a){var c=Y.createUUID();h.send("port.message",{response_id:c,connect:!0,destination:a});return b(c)},onConnect:{addListener:function(a){c=a}}}}(),la=function(){var a={objs:{},push:function(c,b){0!==b&&1!==b&&(b=0);var d=oa(19831206*ka()+1);a.objs[d]={fn:c,prio:b};return d},remove:function(c){delete a.objs[c]},get:function(c){for(var b=[],e=0;1>=e;e++)k(B(a.objs),function(y){a.objs[y].prio!==e||void 0!==c&&y!=c||d(b,a.objs[y].fn)});return void 0===
c?b:b[0]},finalize:function(c){if(void 0===c){c=a.get();for(var b=0;b<c.length;b++)c[b]()}else return a.objs[c]&&(b=a.objs[c].fn(),delete a.objs[c]),b}};return a}(),N=function(){var a=function(){var a=0,b={},d={register:function(e,k,h){var M=P.connect("registerMenuCommand");M.onMessage.addListener(function(a){"run"===a&&c.setTimeout(k,1)});M.onDisconnect.addListener(function(){d.unregister(C)});M.postMessage({method:"register",name:e,accessKey:h});g&&r("env: registerMenuCommand "+ba(k));var C=++a;
b[C]=M.disconnect;return C},unregister:function(a){g&&r("env: registerMenuCommand "+a);var c;if(c=b[a])c(),delete b[a]}};return d}(),E=function(a,c){var b=null,g=!1,k=null,h,r=function(){var a=[];return{run:function(c){c&&d(a,c);if(b)for(;a.length;)za(a)()}}}(),C=P.connect("openInTab");C.onMessage.addListener(function(a){a.tabId?g?ha():(b=a.tabId,r.run()):a.name?h=a.name:a.close&&(g=!0,k&&(k(),k=void 0))});C.onDisconnect.addListener(function(){C=null});C.postMessage({method:"openTab",url:a,options:c});
var ha=function(){C&&C.postMessage({method:"closeTab"})},w={};W(w,{close:{value:function(){g?e&&q("env: attempt to close already closed tab!"):(g=!0,ha())}},closed:{get:function(){return g}},onclose:{get:function(){return k},set:function(a){k=a}},name:{get:function(){return h},set:function(a){r.run(function(){C&&C.postMessage({method:"nameTab",name:a})})}}});return w},F=function(a,c){var d="Object"===Y.toType(a)?a:{url:a,name:c},e=function(a,c){c=c||{};a&&setTimeout(function(){b(a,c,[c])},1)},g=P.connect("download");
g.onMessage.addListener(function(a){try{a.load?d.onload&&e(d.onload,a.data):a.progress?d.onprogress&&e(d.onprogress,a.data):a.timeout?d.ontimeout&&e(d.ontimeout,a.data):d.onerror&&e(d.onerror,a.data)}catch(c){r("env: Error: TM_download - ",c,d)}});g.onDisconnect.addListener(function(){g=null});g.postMessage({details:d});return{abort:function(){g&&g.disconnect();g=null}}},K={};return{log:r,addStyle:function(a,c){h.send("addStyle",{css:a},c?function(){c()}:null)},closeTab:function(a){h.send("closeTab",
null,a?function(){a()}:null)},focusTab:function(a){h.send("focusTab",null,a?function(){a()}:null)},setClipboard:function(a,c,b){h.send("setClipboard",{content:a,info:c,id:u},b?function(){b()}:null)},syntaxCheck:function(a,c){h.send("syntaxCheck",{code:a},function(a){c(a)})},of:function(y){var x=y.script,q=function(){var a=[],b=y.storage,w=0,Z=function(a,b){if("string"===typeof a){var z=a[0];a=qa(a,1);switch(z){case "b":return"true"===a;case "n":return c.Number(a);case "o":try{return da(a)}catch(w){r("values: parseValueFromStorage: "+
w)}return b;default:return a}}else return b},t=function(c,b,z,w){b!=z&&k(a,function(a){if(a&&a.key==c&&a.cb)try{a.cb(c,Z(b),Z(z),w)}catch(l){e&&O('values: change listener of "'+c+'" failed with: '+l.message)}})},v=function(a){m.postMessage({method:"saveStorageKey",uuid:x.uuid,key:a,value:b.data[a],id:u,ts:b.ts})},m=P.connect("values");m.onMessage.addListener(function(a){a.storage&&k(B(a.storage.data),function(c){var z=b.data[c];b.data[c]=a.storage.data[c];var w=b.data[c];g&&r("values: message - config key "+
c+": "+z+" -> "+w);t(c,z,w,!0)});a.removed&&(b[a.removed]=void 0)});m.onDisconnect.addListener(function(){e&&r("values: port disconnected")});m.postMessage({method:"addStorageListener",uuid:x.uuid,id:u});return{set:function(a,c){var w=b.data[a];b.ts=ga();var d=b.data,p;a:{p=c;var l=(typeof p)[0];switch(l){case "o":try{p=l+ea(p)}catch(C){r(C);p=void 0;break a}break;default:p=l+p}}d[a]=p;v(a);t(a,w,b.data[a],!1)},get:function(a,c){return Z(b.data[a],c)},remove:function(a){var c=b.data[a];b.ts=ga();
delete b.data[a];v(a);t(a,c,b.data[a],!1)},list:function(){return B(b.data)},registerChangeListener:function(c,b){var z=++w;d(a,{id:z,key:c,cb:b});return z},unregisterChangeListener:function(c){a=T(a,function(a){return a.id!==c?!0:!1})}}}(),A=function(){return{getText:function(a){for(var c=0;c<x.resources.length;c++){var b=x.resources[c];if(b.name==a&&!b.failed){try{if(null!==b.content)return U.UTF8.decode(b.content)}catch(d){}return""}}return null},getURL:function(a){for(var c=0;c<x.resources.length;c++){var b=
x.resources[c];if(b.name==a&&!b.failed){if(null===b.content)return"";try{return"data:"+(b.meta||"application")+";base64,"+U.Base64.encode(b.content)}catch(d){}return b.url}}return null}}}(),G=function(){return{set:function(a,c){h.send("tabsSet",{uuid:x.uuid,tab:a},c?function(){c()}:null)},get:function(a){h.send("tabsGet",{uuid:x.uuid},a?function(c){a(c||{})}:null)},getAll:function(a){h.send("tabsGetAll",{uuid:x.uuid},a?function(c){a(c||{})}:null)}}}(),N=function(a){var e=!1,w=a.context;delete a.context;
var Z=function(){var a={};k(B(c.XMLHttpRequest.__proto__),function(c){a[c]=!0});var b=function(){};k(B(c.XMLHttpRequest),function(d){a[d]||(b[d]=c.XMLHttpRequest[d])});return b}(),t=function(a,d){d=d||{};a&&!e&&c.setTimeout(function(){d.__proto__=Z;b(a,d,[d])},1)};if("FormData"!==Y.toType(a.data)){var v=P.connect("xhr"),m=[];v.postMessage({method:"xhr",details:a,callbacks:{onloadstart:!!a.onloadstart,onload:!!a.onload,onreadystatechange:!!a.onreadystatechange,onerror:!0,ontimeout:!!a.ontimeout,onprogress:!!a.onprogress,
onpartial:!0},id:u,url:c.location.href,uuid:x.uuid});v.onMessage.addListener(function(b){b.data&&w&&(b.data.context=w);if(b.data&&b.onload){m.length&&(b.data.response_data=H(m,""),m=null);if(b.data.response_data){var z=b.data.response_data;["response_data"].forEach(function(a){delete b.data[a]});var f={response:function(b){var d=a.responseType?Ea(a.responseType):"";return"arraybuffer"==d?U.str2arrbuf(b):"blob"==d?new c.Blob([U.str2arrbuf(b)]):"json"==d?da(b):b},responseText:function(a){return a},
responseXML:function(a){var b=new c.DOMParser;return Ga(b,a,"text/xml")}};k(B(f),function(a){ca(b.data,a,function(){try{return f[a](z)}catch(c){O("GM_xmlhttpRequest: ",c)}})})}t(a.onreadystatechange,b.data);t(a.onload,b.data)}else if(b.onreadystatechange)4!=b.data.readyState&&t(a.onreadystatechange,b.data);else if(b.onpartial)d(m,b.data.partial);else if(b.onerror)b.exception&&X(b.exception),t(a.onerror,b.data);else{var p=T(["onloadstart","onprogress","ontimeout"],function(a){return!!b[a]})[0]||"onerror";
t(a[p],b.data)}});g&&v.onDisconnect.addListener(function(){r("env: TM_xmlhttpRequest.onDisconnect! :)")});return{abort:function(){v&&v.disconnect();v=null;e=!0}}}var f=new c.XMLHttpRequest;void 0===a.async&&(a.async=!0);Ha(f,a.method,a.url,a.async,a.user,a.password);a.headers&&k(B(a.headers),function(c){Ia(f,c,a.headers[c])});a.overrideMimeType&&Ja(f,a.overrideMimeType);a.responseType&&(f.responseType=a.responseType);"abort error load loadstart progress readystatechange timeout".split(" ").forEach(function(c){f["on"+
c]=function(){var b="",d=a.url;if(2<f.readyState&&(b=Ka(f),4==f.readyState)){b&&(b=Q(b,/TM-finalURL[0-9a-zA-Z]*\: .*[\r\n]{1,2}/,""));var p=La(f,"TM-finalURL"+D.short_id);p&&(d=p)}b={readyState:f.readyState,status:"",statusText:"",responseHeaders:b,finalUrl:d,context:w};4==f.readyState&&(f.responseType?b.response=f.response:(b.responseText=f.responseText,b.responseXML=f.responseXML),b.status=f.status,b.statusText=f.statusText);t(a["on"+c],b)}});Ma(f,a.data);return{abort:function(){Na(f);e=!0}}},M=
function(a,c,b,d,t){var e=null,m={id:u},f=["timeout","text","image","title","highlight"],n=null;"object"===typeof a?n=a:"object"===typeof t&&(n=t);n?(k(f,function(a){m[a]=n[a]}),e=n.ondone,d=n.onclick,"function"===typeof c&&(e=c)):("number"===typeof t&&(m.timeout=t),m.image=b,m.title=c,m.text=a);m.text&&(m.image=m.image||x.icon64||x.icon,m.title=m.title||x.name);m.text||m.highlight?h.send("notification",m,function(a){d&&a.clicked&&d();e&&e(!0===a.clicked)}):O("TM_notification: neither a message text nor the hightlight options was given!")};
K[y.script.uuid]=K[y.script.uuid]||{getInfo:function(){var a=y.script,c={observers:1,id:1,enabled:1,hash:1,fileURL:1},b={script:{}};k(B(a),function(d){c[d]||(b.script[d]=a[d])});var d=a.options.updateURL||a.options.fileURL;b.script["run-at"]=a.options.override.run_at||a.options.run_at;b.script.excludes=a.options.override.orig_excludes;b.script.includes=a.options.override.orig_includes;b.script.matches=a.options.override.orig_matches;b.script.grant=a.grant;b.script.unwrap=!1;b.scriptMetaStr=y.header;
b.scriptSource=y.code;b.scriptWillUpdate=!!d;b.scriptUpdateURL=d;b.version=D.version;b.scriptHandler="Tampermonkey";b.isIncognito=D.inIncognitoContext;b.downloadMode=D.downloadMode;return b}(),registerMenuCommand:a.register,unregisterMenuCommand:a.unregister,download:F,openInTab:E,setValue:q.set,getValue:q.get,deleteValue:q.remove,listValues:q.list,addValueChangeListener:q.registerChangeListener,removeValueChangeListener:q.unregisterChangeListener,getResourceText:A.getText,getResourceURL:A.getURL,
notification:M,xmlhttpRequest:N,setTab:G.set,getTab:G.get,getTabs:G.getAll};return K[y.script.uuid]}}}(),Pa=function(){var u=function(a,b,c){for(var d in b){var e=ma(b,d);e&&e.get&&!D.sandbox_allow_getters||("function"===typeof b[d]?a[d]=aa(b[d],b):function(){var c=d;ca(a,c,function(){return b[c]})}())}k(B(c),function(b){a[b]=c[b]});return a},A=function(a,d,e,g){var m={attrChange:0,attrName:null,bubbles:!0,cancelBubble:!1,cancelable:!1,clipboardData:void 0,currentTarget:null,defaultPrevented:!1,eventPhase:0,
newValue:null,prevValue:null,relatedNode:null,returnValue:!0,srcElement:null,target:null,timeStamp:ga()};e="string"===typeof e?new c.Function(e):e;var f=new Event;k(B(m),function(a){f[a]=m[a]});k(B(d),function(a){f[a]=d[a]});f.type=a;b(e,g,[f])},P=function(a,b,c){void 0===c&&(c=function(a){return a});var d={GM_info:!0};k(a,function(a){d[a]=!0});return T(b,function(a){return d[c(a.name)]})},K=function(a,b){void 0===b&&(b=100);return b&&a&&(a==document||K(a.parentNode,b-1))},y=function(){var c=null;
return function(d){c||(c={instance:d,is_open:!1},k(["write","writeln","open","close"],function(e){c[e]=d[e];d[e]=function(){var g=!1;-1!=["write","writeln","open"].indexOf(e)?c.is_open?g=!0:c.is_open=!0:"close"===e&&(c.is_open=!1);!g&&c.is_open&&h.send("document.write");var m=document.documentElement,f=b(c[e],d,arguments);if(!g&&c.is_open)return m!==document.documentElement&&(c.instance!==d&&(c=null,y(document)),k(a.write_listeners,function(a){a(document)})),f}}))}}(),x={},J=[],R=function(b,k,t,v){if(!b.__addEventListener){W(b,
{__addEventListener:{value:b.addEventListener,enumerable:!1,configurable:!1},__removeEventListener:{value:b.removeEventListener,enumerable:!1,configurable:!1}});var m=[],f=function(a){for(var b=0;b<m.length;b++)if(m[b].fn===a)return b};b.removeEventListener=function(a,b,c){c=!!c;var d,e;if(void 0!==(d=f(b))&&(e=m[d].listeners)){if(b=e[a+"-"+c])this.__removeEventListener(a,b,c),delete e[a+"-"+c];Aa(e).length||E(m,d,1)}else this.__removeEventListener(a,b,c)};var n=function(a,b,e,l){if(b){var f=J.length;
b=c.parseInt(H(["DOMContentLoaded"==e?1:2,l?1:2,l?b:3-b,ga()],"0"));for(e=0;e<J.length;e++)if(l=J[e],!l||!l.prio||l.prio>b){f=e;break}E(J,f,0,{prio:b,fn:a})}else d(J,{fn:a})};b.addEventListener=function(b,w,p){(g||F)&&r("env: addEventListener "+b);if("load"==b||"DOMContentLoaded"==b||"DOMNodeInserted"==b){p=!!p;var l=!0,L=this;if(!v)try{try{throw new c.Error;}catch(ia){var h=/tms_[0-9a-f_]+/,q=ia.stack||ia.stacktrace;if(q)for(var I=ra(q,"\n"),ua,q=0;q<I.length&&(!(ua=fa(I[q],h))||!(v=x[ua[0]]));q++);
else{var va=function(a,b){void 0===b&&(b=10);if(0===b)return null;if(a.caller){var d,l;try{return l=ba(a.caller),fa(l,new c.RegExp("^function[^(]+"))&&(void 0).length&&(d=fa((void 0)[0],h))?d[0]:va(a.caller,b-1)}catch(f){e&&O("env: unable to detect caller context",f)}}return null},wa;if(wa=va(arguments.callee))v=x[wa]}}}catch(ia){e&&X("env: Error: event "+b,ia)}v&&"document-idle"!==v.run_at&&(I=null,"load"==b?a.pageLoaded&&(I=function(){var a=L.document||L;(g||F)&&r("env: postLoadEvent!");a=a||document;
A("load",{attrName:"null",newValue:"null",prevValue:"null",eventPhase:c.Event.AT_TARGET,attrChange:c.MutationEvent.ADDITION,target:a,relatedNode:a,srcElement:a},w,L)},l=!1,n(I,k,b,p)):"DOMContentLoaded"==b&&a.domContentLoaded&&(I=function(){var a=L.document||L;(g||F)&&r("env: postDomEventListener!");a=a||document;A("DOMContentLoaded",{attrName:"null",newValue:"null",prevValue:"null",eventPhase:c.Event.AT_TARGET,attrChange:c.MutationEvent.ADDITION,target:a,relatedNode:a,srcElement:a},w,L)},l=!1,n(I,
k,b,p)),I&&(c.setTimeout(function(){if(J.length){var a=S(J);a&&a.fn&&a.fn()}},1),l=!1));l&&(I=function(a){return G(w,this,t(a))},void 0===(l=f(w))&&(l=m.length,d(m,{fn:w,listeners:{}})),m[l].listeners[b+"-"+p]=I,this.__addEventListener(b,I,p))}else this.__addEventListener(b,w,p)};la.push(function(){b.removeEventListener=b.__removeEventListener;b.addEventListener=b.__addEventListener})}},U=function(a){a.__evaluate||(W(a,{__evaluate:{value:a.evaluate,enumerable:!1,configurable:!1}}),a.evaluate=function(a,
b,c,d,e){g&&r("env: document.evaluate "+a);b||(b=this);var n;if("undefined"!=typeof XPathResult){var z=a,k=null;try{n=this.__evaluate(z,b,c,d,e)}catch(l){k=l}var p=!1;try{p|=!!n.snapshotLength}catch(l){}try{p|=!!n.singleNodeValue}catch(l){}if(p||"."==a[0]||K(b))g&&r("env: queried document for "+z);else{g&&r("env: query added elem for "+z);z=("/"==a[0]?".":"./")+a;try{n=this.__evaluate(z,b,c,d,e)}catch(l){}}g&&r("env: query returned ",n,k);if(!p&&k)throw k;}else g&&r("env: XPathResult == undefined, but selectNodes via ",
a),n=b.selectNodes(a);return n},la.push(function(){a.evaluate=a.__evaluate}))},da=function(d,e){var t=["eval"],v={};k(d,function(a){a.context_prop&&(v[(a.name.split(".")||[])[1]]=!0)});var m=function(a,c,d,e){var l=function(b){return b===c?a:b},f=function(a,c,d,e){d||(d=a);var l=function(){var l=b(a[c],d,arguments);e&&(l=e(l));return l};l.__proto__=a[c];l.prototype=a[c].prototype;return l},m=function(d){var e,l,f=null,f=function(f){e=f;l=function(){return b(f,a,arguments)};c[d]=l};ca(a,d,function(){return void 0===
e||l!==c[d]?c[d]:e});na(a,d,f)},w=function(d,e){var f,p=null,g=null,p="function"===typeof e.get?e.get:function(){e.opts&&e.opts.get_cb&&b(e.opts.get_cb,this,[arguments,w]);return void 0===f?l(c[d]):f};"function"===typeof e.set?g=e.set:e.get||(g=function(a){f=a});p&&ca(a,d,p);g&&na(a,d,g)};k(B(e),function(a){d[a]=d[a]||!1!==e[a]});k(B(d),function(b){if(!1!==e[b]){var k,h={};try{var r=ma(c,b);try{if(!(k=e[b])||k.needs_grant&&!0!==v[b]){if(r&&r.get&&!D.sandbox_allow_getters){g&&q("sandbox: ignore getter",
b,r);return}"function"===typeof c[b]?d[b].proto?h.wrap=!0:c[b].prototype&&!r.enumerable||-1!=V(t,b)||!c[b].bind?h.direct=!0:h.bind=!0:"number"===typeof c[b]||"string"===typeof c[b]?h.get=!0:d[b].event&&d[b].proto?h.event=!0:h.direct=!0}else if(k.wrap)h.wrap=!0,h.that=k.that;else if(k.direct)h.direct=!0;else if(k.enhance)h.enhance=k.enhance;else if(k.get||k.set)h.get=k.get,h.set=k.set,h.opts=k.opts}catch(x){h.get=!0}h.enhance?(g&&q("sandbox: original["+b+"] -> enhanced reference"),a[b]=h.enhance):
r&&r.get&&!D.sandbox_allow_getters?g&&q("sandbox: ignore getter",b,r):h.event?(g&&q("sandbox: original["+b+"] -> event reference"),m(b)):h.get||h.set?(g&&q("sandbox: original["+b+"] -> "+("function"===typeof h.get||"function"===typeof h.set?"enhanced ":"")+"getter/setter reference"),w(b,h)):h.wrap?(g&&q("sandbox: original["+b+"] -> wrapped reference "),a[b]=f(c,b,h.that,l)):h.direct?(g&&q("sandbox: original["+b+"] -> direct reference"),a[b]=l(c[b])):h.bind&&(g&&q("sandbox: original["+b+"] -> bound reference"),
a[b]=aa(c[b],c))}catch(x){O("env: error while creating a new sandbox: "+x.message)}}});return a},f=function(a,d,e,f,l){var g=d[e];f&&"string"===typeof g?d[e]=new c.Function(g):l&&(d[e]=function(){return b(g,l,arguments)});return b(a,window,d)};return function(){var d=new Window,g={setTimeout:{enhance:function(){return f(c.setTimeout,arguments,0,!0,d)}},setInterval:{enhance:function(){return f(c.setInterval,arguments,0,!0,d)}},close:{needs_grant:!0,get:function(){return c.self==c.top?function(a){return N.closeTab(a)}:
c.close}},focus:{needs_grant:!0,get:function(){return function(a){return N.focusTab(a)}}},location:{get:!0,set:function(a){c.location.href=a}},document:{get:function(){var a=c.document;e(a);return a}},clearInterval:{get:function(){return c.clearInterval}},clearTimeout:{get:function(){return c.clearTimeout}},addEventListener:{enhance:function(){return f(c.addEventListener,arguments,1,!0)}},removeEventListener:{enhance:function(){return f(c.removeEventListener,arguments,1,!0)}}};(function(){var a=pa(c.frames.length,
7);g.length={get:!0,opts:{get_cb:function(b,d){for(var e=c.frames.length,f=a;f<e;f++)d(c.String(f),{get:!0});a=pa(e,a)}}};for(var b=0;b<a;b++)g[c.String(b)]={get:!0}})();k(B(c),function(a){c[a]!=window&&(g[a]=g[a]||{enhance:c[a]})});var h=m(d,window,a.windowProps,g),p={context:h,filter:function(a){return a==window?h:a},filterEvent:function(a){var c={},d;for(d in a)if("function"===typeof a[d])c[d]=function(){var c=d;return function(){return b(a[c],a,arguments)}}();else{var e=p.filter(a[d]);c[d]=e}return c}};
return p}()},M=function(){return u({},c.console,{debug:q,log:r,info:Ca,warn:O,error:X})},C=function(a,g,h,v,m,f){var n=null,r=function(){return"[Tampermonkey property]"};try{var q=v.sandboxes[a.uuid],p=["context","fapply"],l=[void 0,void 0];k(v.elements[a.uuid],function(a){a.name?(a.overwrite?(d(p,a.name),d(l,a.value)):a.context_prop||(q[a.name]=a.value,d(p,a.name),d(l,"context."+a.name)),a.protect&&q[a.name]&&(q[a.name].toString=r)):e&&O("env: WARN: unexpected item in props elem: "+ea(a))});n=['with (context) {(function(module) {"use strict";try {\nfapply(module, context, [',
H(l,","),"]);} catch (e) {if (e.message && e.stack) {console.error(\"ERROR: Execution of script '",Q(a.name,new c.RegExp("[\"']","g"),"\\$1"),'\' failed! " + e.message);console.log(e.stack.replace(/(\\\\(eval at )?<anonymous>[: ]?)|([\\s.]*at Object.tms_[\\s\\S.]*)/g, ""));} else {console.error(e);}}\n})(function ',f,"(",H(p,","),") {",D.enforce_strict_mode?'"use strict";\n':"",h,g,"\n})}\n"].join("");v=function(a,d){var e=new c.Function("context","fapply","console",n);b(e,d,[d,b,M()])};m?m(v,[n,
q]):v(n,q)}catch(L){N.syntaxCheck(H([h,g],""),function(b){var d="";if(b.errors){var f=ra(h,"\n").length-1,p="";b.errors&&k(B(b.errors),function(a){if((a=b.errors[a])&&0<=a.line&&a.reason){var c=a.line;p+=H([c>f?"script:":"require:"," (",a.code,") ",Q(a.reason,/.$/,"")," on line: ",c>f?c-f:c," at character: ",a.character,"\n"],"")}});d="JSHINT output:\n"+p}else d=g;var l=L.stack?Q(L.stack,/(\\(eval at )?<anonymous>[: ]?)|([\s.]*at Object.tms_[\s\S.]*)/g,""):"";e||b.errors?X('Syntax error @ "'+a.name+
'"!\n##########################\n'+d+"##########################\n\n"+l):X('Syntax error @ "'+a.name+'"!\n\n',l);c.setTimeout(function(){throw L;},1)})}},ha=function(b,c){var d=window,e="__u__"+oa(19831206*ka()+1),g=e+"_";d[e]=b;d[g]=c;var f=G(a.eval,window,'window["'+e+'"].apply(this, window["'+g+'"])');delete d[e];delete d[g];return f};return{create:function(h){var u=h.script,t=[],v=-1!==u.grant.indexOf("none")?ha:null,m=u.namespace+"_"+!!v;void 0===a.props[m]&&(a.props[m]={sandboxes:{},elements:{}},
la.push(function(){a.props[m]=null}));d(t,{name:"CDATA",value:function(a){this.src=a;this.toXMLString=this.toString=function(){return this.src}}});d(t,{name:"uneval",value:function(a){try{return"\\$1 = "+ea(a)+";"}catch(b){r(b)}}});D.use_strong_mode||d(t,{name:"undefined",value:void 0});d(t,{name:"define",value:void 0});d(t,{name:"module",value:void 0});var f=[],n=N.of(h);if(!v){d(t,{name:"window",value:"context",overwrite:!0});var z={window:window};k(B(z),function(a){var b=Q(a,/^(.)/g,function(a){return Fa(a)});
d(t,{name:"unsafe"+b,value:z[a]})});d(t,{name:"console",value:M()});d(t,{name:"cloneInto",value:function(a){return a}});d(t,{name:"exportFunction",value:function(a,b,c){c&&void 0!==c.defineAs&&(b[c.defineAs]=a);return a}});d(t,{name:"createObjectIn",value:function(a,b){var c={};b&&void 0!==b.defineAs&&(a[b.defineAs]=c);return c}});d(f,{name:"GM_addStyle",value:N.addStyle});d(f,{name:"GM_deleteValue",value:n.deleteValue});d(f,{name:"GM_listValues",value:n.listValues});d(f,{name:"GM_getValue",value:n.getValue});
d(f,{name:"GM_setValue",value:n.setValue});d(f,{name:"GM_log",value:N.log});d(f,{name:"GM_registerMenuCommand",value:n.registerMenuCommand});d(f,{name:"GM_unregisterMenuCommand",value:n.unregisterMenuCommand});d(f,{name:"GM_openInTab",value:n.openInTab});d(f,{name:"GM_addValueChangeListener",value:n.addValueChangeListener});d(f,{name:"GM_removeValueChangeListener",value:n.removeValueChangeListener});d(f,{name:"GM_xmlhttpRequest",value:n.xmlhttpRequest});d(f,{name:"GM_download",value:n.download});
d(f,{name:"GM_setClipboard",value:N.setClipboard});d(f,{name:"GM_getTab",value:n.getTab});d(f,{name:"GM_setTab",value:n.setTab});d(f,{name:"GM_saveTab",value:n.setTab});d(f,{name:"GM_getTabs",value:n.getTabs});d(f,{name:"GM_notification",value:n.notification});d(f,{name:"GM_getResourceText",value:n.getResourceText});d(f,{name:"GM_getResourceURL",value:n.getResourceURL});d(f,{name:"window.close",context_prop:!0});d(f,{name:"window.focus",context_prop:!0})}d(f,{name:"GM_info",value:n.getInfo});t=ya(t,
P(u.grant,xa(f,function(a){a.protect=!0;return a})));u.options.compat_prototypes&&((g||e)&&r("env: option: add toSource"),c.Object.prototype.toSource||W(c.Object.prototype,{toSource:{value:function(){var a=Y.toType(this);if("String"===a)return'(String("'+Q(this,new c.RegExp('"',"g"),'\\"')+'"))';if("Number"===a)return'(Number("'+c.Number(this)+'"))';if("Array"===a){for(var a="(new Array(",b=0;b<this.length;b++){var d=Y.toType(this[b]),a="Null"===d?a+"null":"Undefined"===d?a+"undefined":a+this[b].toSource();
b+1<this.length&&(a+=",")}return a+"))"}return'JSON.parse(unescape("'+c.escape(ea(this))+'"))'},enumerable:!1,writable:!0,configurable:!0}}),(g||e)&&r("env: option: add some array generics"),k("indexOf lastIndexOf filter forEach every map some slice".split(" "),function(a){if("function"!==typeof c.Array[a]){var d={};d[a]={value:function(d){return b(c.Array.prototype[a],d,b(ja.wrappedJSObject,arguments,[1]))},enumerable:!1,writable:!0,configurable:!0};W(c.Array,d)}}));f="";if(v)n=new Window;else{var A=
da(t,function(a){U(a);y(a);R(a,2,A.filterEvent)}),n={run_at:u.options.run_at,uuid:u.uuid},f="tms_"+Q(u.uuid,/-/g,"_");x[f]=n;R(A.context,1,A.filterEvent,n);n=A.context}a.props[m].sandboxes[u.uuid]=n;a.props[m].elements[u.uuid]=t;(g||e)&&q("env: execute script "+u.name+" @ the "+(v?"un":"")+"safe context now!");C(u,h.code,h.requires,a.props[m],v,f)}}}();h.onMessage.addListener(function(a){var b=a.a;"load"==a.m?R.runListeners():"DOMContentLoaded"==a.m?R.runListeners():"setForeignAttr"==a.m?window[b.attr]=
b.value:"port.message"==a.m?P.message(b):"executeScript"==a.m?R.run(a.a):e&&r("env: unkown method",a)});e&&r("Tampermonkey started");a.scripts.forEach(function(a){R.run(a)})}});
